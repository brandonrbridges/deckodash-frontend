(this["webpackJsonpdeckodash-frontend"]=this["webpackJsonpdeckodash-frontend"]||[]).push([[0],{175:function(e,t,a){e.exports=a.p+"static/media/wood-grain.8427e7b1.svg"},180:function(e,t,a){e.exports=a(314)},204:function(e,t){},206:function(e,t){},241:function(e,t){},242:function(e,t){},300:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(42),c=a.n(r),s=a(5),o=a(6),m=a(7),u=a(8),i=a(10),d=a(21),h=a(23),E=a.n(h),p=E.a.create({baseURL:"https://api.deckodash.xyz/api/v1/"}),b=a(169),f=a.n(b);function v(){var e=f.a.decode(localStorage.getItem("x-access-token"));if(e)return{_id:e._id,email:e.email,first_name:e.first_name,last_name:e.last_name,role:e.role}}function g(){return localStorage.getItem("x-access-token")&&localStorage.getItem("x-access-token-expiration")>Date.now()}var y=a(321),C=a(320),N=a(173),O=a(322),j=a(18),k=a.n(j),x=a(328),_=a(330),w=a(319),S=a(11),M=a(12),D=(a(300),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).logout=function(){localStorage.removeItem("x-access-token"),localStorage.removeItem("x-access-token-expiration"),e.setState({auth:!1})},e.state={auth:!0,user:{first_name:null,last_name:null}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){if(g()||this.setState({auth:!1}),v()){var e=v(),t=this.state.user;t.first_name=e.first_name,t.last_name=e.last_name,this.setState({user:t})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.auth,n=t.user;return l.a.createElement(x.a,{variant:"dark",className:"navigation"},a?"":l.a.createElement(d.a,{to:"/login"}),l.a.createElement(i.c,{to:"/dashboard",className:"navbar-brand"},"Deckodash ",l.a.createElement("span",{className:"text-muted x-small"},"Alpha 1.0")),l.a.createElement(_.a,{className:"ml-auto"},l.a.createElement(i.c,{to:"/orders",className:"nav-link"},l.a.createElement(S.a,{icon:M.j})),l.a.createElement(i.c,{to:"/dashboard/settings",className:"nav-link"},l.a.createElement(S.a,{icon:M.c})),l.a.createElement(i.c,{to:"/orders",className:"nav-link"},l.a.createElement(S.a,{icon:M.a})),l.a.createElement(w.a,{title:n.first_name+" "+n.last_name,id:"basic-nav-dropdown",alignRight:!0},l.a.createElement(w.a.Item,{onClick:function(){return e.logout()}},"Logout"))))}}]),a}(l.a.Component)),I=a(44),L=(a(305),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={links:[{label:"Dashboard",icon:I.c,url:""},{label:"Customers",icon:I.h,url:"/customers"},{label:"Orders",icon:I.d,url:"/orders"},{label:"Products",icon:I.a,url:"/products"},{label:"Deliveries",icon:I.g,url:"/deliveries"},{label:"Statistics",icon:I.i,url:"/statistics"},{label:"Marketing",icon:I.f,url:"/marketing",disabled:!0}],bottomLinks:[{label:"Users",icon:I.e,url:"/users"},{label:"Settings",icon:I.b,url:"/settings"}]},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.links,a=e.bottomLinks;return l.a.createElement("section",{className:"d-flex flex-column h-100"},l.a.createElement(_.a,{defaultActiveKey:"/dashboard",className:"flex-column py-5 sidebar"},t.map((function(e){return l.a.createElement(i.c,{exact:!0,to:"/dashboard".concat(e.url),className:"nav-link ".concat(e.disabled?"disabled":""),activeClassName:"active",key:e.label},l.a.createElement(S.a,{icon:e.icon,className:"mr-2"}),e.label)}))),l.a.createElement(_.a,{className:"flex-column py-5 sidebar mt-auto"},a.map((function(e){return l.a.createElement(i.c,{exact:!0,to:"/dashboard".concat(e.url),className:"nav-link",activeClassName:"active",key:e.label},l.a.createElement(S.a,{icon:e.icon,className:"mr-2"}),e.label)}))))}}]),a}(l.a.Component)),P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={auth:!0},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){g()||this.setState({auth:!1})}},{key:"render",value:function(){var e=this.state.auth;return l.a.createElement(l.a.Fragment,null,e?"":l.a.createElement(d.a,{to:"/login"}),l.a.createElement(D,null),l.a.createElement(C.a,null,l.a.createElement(N.a,{className:"bg-dark px-4",style:{height:"calc(100vh - 56px)",maxWidth:"14%"}},l.a.createElement(L,null)),l.a.createElement(N.a,{className:"pb-5 px-0",style:{height:"calc(100vh - 56px)",overflowY:"scroll"}},this.props.children)))}}]),a}(l.a.Component),A=(a(306),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"widget ".concat(this.props.className)},l.a.createElement("h6",{className:"title"},this.props.title),this.props.children)}}]),a}(l.a.Component)),R=(a(307),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"icon-bubble ".concat(this.props.className)},l.a.createElement(S.a,{icon:this.props.icon}))}}]),a}(l.a.Component)),Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={customers:[],orders:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.get("customers",{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({customers:t.data.customers})})),p.get("orders",{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({orders:t.data.orders})}))}},{key:"render",value:function(){var e=this.state,t=e.customers,a=e.orders,n=0,r=0;return l.a.createElement(P,{id:"Dashboard"},l.a.createElement(y.a,{fluid:!0,className:"bg-dark dashboard-overview mb-4 py-5"},l.a.createElement("h4",{className:"mb-5 text-white"},"Welcome, ",this.props.user," \ud83d\udc4b\ud83c\udffb"),l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement("p",{className:"h6 text-muted"},"Total Revenue in ",k()(new Date).format("MMMM")),l.a.createElement("p",{className:"h1 text-white"},"\xa30")),l.a.createElement(N.a,null,l.a.createElement("p",{className:"h6 text-muted"},"Total Orders in ",k()(new Date).format("MMMM")),l.a.createElement("p",{className:"h1 text-white"},"0")),l.a.createElement(N.a,null,l.a.createElement("p",{className:"h6 text-muted"},"Today's Revenue"),l.a.createElement("p",{className:"h1 text-white"},"\xa30")),l.a.createElement(N.a,null,l.a.createElement("p",{className:"h6 text-muted"},"Open Quotes"),l.a.createElement("p",{className:"h1 text-white"},a.forEach((function(e){if("quote"===e.status)return n++})),n)),l.a.createElement(N.a,null,l.a.createElement("p",{className:"h6 text-muted"},"Pending Invoices"),l.a.createElement("p",{className:"h1 text-white"},a.forEach((function(e){if("invoice"===e.status)return r++})),r)))),l.a.createElement(y.a,{fluid:!0},l.a.createElement(C.a,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(A,{title:"Sales To Date (This Year)"},"Sales")),l.a.createElement(N.a,null,l.a.createElement(A,{title:"Top Selling Products"},"Sales"))),l.a.createElement(C.a,{className:"mb-5"},l.a.createElement(N.a,null,l.a.createElement(A,{title:"New Customers"},l.a.createElement(O.a,{borderless:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement(T,{customerId:e._id,firstName:e.first_name,lastName:e.last_name,key:e._id})})))))),l.a.createElement(N.a,null,l.a.createElement(A,{title:"Pending Quotes"},l.a.createElement(O.a,{borderless:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Order ID"))),l.a.createElement("tbody",null,a.filter((function(e){return"quote"===e.status})).map((function(e){return l.a.createElement(U,{orderId:e.order_id})})))))),l.a.createElement(N.a,null,l.a.createElement(A,{title:"Pending Invoices"},l.a.createElement(O.a,{borderless:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Order ID"))),l.a.createElement("tbody",null,a.filter((function(e){return"invoice"===e.status})).map((function(e){return l.a.createElement(U,{orderId:e.order_id})})))))),l.a.createElement(N.a,null,l.a.createElement(A,{title:"Pending Delivery"},l.a.createElement(O.a,{borderless:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Order ID"))),l.a.createElement("tbody",null,a.filter((function(e){return"pending-delivery"===e.status})).map((function(e){return l.a.createElement(U,{orderId:e.order_id})}))))))),l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement(R,{icon:M.l,className:"mb-3"}),l.a.createElement("h6",null,"Customer Lookup"),l.a.createElement(i.b,{to:"/dashboard/customers"},"Lookup customers")),l.a.createElement(N.a,null,l.a.createElement(R,{icon:M.f,className:"mb-3"}),l.a.createElement("h6",null,"Order Lookup"),l.a.createElement(i.b,{to:"/dashboard/orders"},"Lookup orders")),l.a.createElement(N.a,null,l.a.createElement(R,{icon:M.m,className:"mb-3"}),l.a.createElement("h6",null,"Manage Users"),l.a.createElement(i.b,{to:"/dashboard/users"},"Add or update users")),l.a.createElement(N.a,null,l.a.createElement(R,{icon:M.e,className:"mb-3"}),l.a.createElement("h6",null,"Recent Activity"),l.a.createElement(i.b,{to:"/dashboard"},"Review recent activity")))))}}]),a}(l.a.Component),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.b,{to:"/dashboard/customers/".concat(this.props.customerId)},this.props.firstName," ",this.props.lastName)))}}]),a}(l.a.Component),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.b,{to:"/dashboard/orders/".concat(this.props.orderId)},this.props.orderId)))}}]),a}(l.a.Component),K=a(172),B=a(326),H=a(24),F=a(26),Q=a(327),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(F.a)({},n.state,Object(H.a)({},e.target.name,e.target.value)))},n.handleSubmit=function(e){e.preventDefault(),console.log(n.state),p.post("customers/new",n.state,{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(e){return n.setState({done:!0})}))},n.state={first_name:null,last_name:null,email:null,phone:null,address_line_one:null,address_line_two:null,address_city:null,address_county:null,address_postcode:null,done:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return this.state.done?l.a.createElement(d.a,{to:"/dashboard/customers"}):l.a.createElement(Q.a,{onSubmit:this.handleSubmit},l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"First Name"),l.a.createElement(Q.a.Control,{type:"text",name:"first_name",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Last Name"),l.a.createElement(Q.a.Control,{type:"text",name:"last_name",onChange:this.handleChange}))),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Email"),l.a.createElement(Q.a.Control,{type:"text",name:"email",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Phone"),l.a.createElement(Q.a.Control,{type:"text",name:"phone",onChange:this.handleChange}))),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Address Line One"),l.a.createElement(Q.a.Control,{type:"text",name:"address_line_one",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Address Line Two"),l.a.createElement(Q.a.Control,{type:"text",name:"address_line_two",onChange:this.handleChange}))),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"City"),l.a.createElement(Q.a.Control,{type:"text",name:"address_city",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"County"),l.a.createElement(Q.a.Control,{type:"text",name:"address_county",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Postcode"),l.a.createElement(Q.a.Control,{type:"text",name:"address_postcode",onChange:this.handleChange}))),l.a.createElement(K.a,{type:"submit",variant:"success",className:"d-block ml-auto"},"Add Customer"))}}]),a}(l.a.Component),J=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){return e.setState({showModal:!1})},e.handleShow=function(){return e.setState({showModal:!0})},e.state={showModal:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.showModal;return l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{variant:"success",className:this.props.className,onClick:this.handleShow},"Add Customer",l.a.createElement(S.a,{icon:M.i,className:"ml-2 small"})),l.a.createElement(B.a,{centered:!0,size:"lg",animation:!1,show:e,onHide:this.handleClose},l.a.createElement(B.a.Header,{closeButton:!0},"Add Customer"),l.a.createElement(B.a.Body,null,l.a.createElement(q,null))))}}]),a}(l.a.Component),z=a(53),V=(a(308),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={customers:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.get("customers",{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({customers:t.data.customers})}))}},{key:"render",value:function(){var e=this.state.customers;return 0===e.length?l.a.createElement("p",{className:"text-muted"},"No customers found.."):l.a.createElement(O.a,{borderless:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Date Added"),l.a.createElement("th",null,"Last Updated"),l.a.createElement("th",null))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement(W,{id:e._id,firstName:e.first_name,lastName:e.last_name,dateAdded:e.date_added,lastUpdated:e.last_updated,key:e._id})}))))}}]),a}(l.a.Component)),W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("td",{className:"text-center",width:"50px"},l.a.createElement(S.a,{icon:M.l,className:"text-center text-muted"})),l.a.createElement("td",null,l.a.createElement(i.b,{to:"/dashboard/customers/".concat(this.props.id)},this.props.firstName," ",this.props.lastName)),l.a.createElement("td",null,k()(this.props.dateAdded).format("MMMM Do YYYY")," ",l.a.createElement("span",{className:"small text-muted"},"(",k()(this.props.dateAdded).fromNow(),")")),l.a.createElement("td",null,k()(this.props.lastUpdated).format("MMMM Do YYYY")," ",l.a.createElement("span",{className:"small text-muted"},"(",k()(this.props.lastUpdated).fromNow(),")")),l.a.createElement("td",{className:"text-right"},l.a.createElement(i.b,{to:"/dashboard/customers/".concat(this.props.id),className:"btn btn-primary btn-sm"},"View"),l.a.createElement(z.a,{className:"ml-3 options"},l.a.createElement(z.a.Toggle,{variant:"secondary",size:"sm"},l.a.createElement(S.a,{icon:M.d})),l.a.createElement(z.a.Menu,null,l.a.createElement(z.a.Item,{onClick:function(){return console.log("clicked dropdown item")}},"Delete")))))}}]),a}(l.a.Component),$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4 py-5"},l.a.createElement("h1",null,"Customers")),l.a.createElement(y.a,{fluid:!0},l.a.createElement(J,{className:"d-block mb-4"}),l.a.createElement(V,null),l.a.createElement(J,{className:"d-block mt-4 ml-auto"})))}}]),a}(l.a.Component),G=a(329),X=a(324),Z=a(323),ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){return e.setState({showModal:!1})},e.handleDelete=function(t){p.delete("customers/delete",{data:{_id:t},headers:{"x-access-token":localStorage.getItem("x-access-token")}}),e.setState({deleted:!0})},e.handleShow=function(){return e.setState({showModal:!0})},e.state={deleted:!1,showModal:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.deleted,n=t.showModal;return a?l.a.createElement(d.a,{to:"/dashboard/customers"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{variant:"danger",className:this.props.className,onClick:this.handleShow},"Delete Customer",l.a.createElement(S.a,{icon:M.k,className:"ml-2 small"})),l.a.createElement(B.a,{centered:!0,animation:!1,show:n,onHide:this.handleClose},l.a.createElement(B.a.Header,{closeButton:!0},"Are you sure you want to delete this customer?"),l.a.createElement(B.a.Body,null,l.a.createElement(K.a,{variant:"danger",onClick:function(){return e.handleDelete(e.props.customerId)}},"Delete Customer"))))}}]),a}(l.a.Component),te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(F.a)({},n.state,Object(H.a)({},e.target.name,e.target.value)))},n.state={customer:null,first_name:null,last_name:null,address_line_one:null,address_line_two:null,address_city:null,address_county:null,address_postcode:null,email:null,phone:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("/customers/".concat(this.props.customerId),{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){var a=t.data.customer;e.setState({customer:a,first_name:a.first_name,last_name:a.last_name,address_line_one:a.address.line_one,address_line_two:a.address.line_two,address_city:a.address.city,address_county:a.address.county,address_postcode:a.address.postcode,email:a.email,phone:a.phone})}))}},{key:"render",value:function(){var e=this.state,t=e.first_name,a=e.last_name,n=e.address_line_one,r=e.address_line_two,c=e.address_city,s=e.address_county,o=e.address_postcode,m=e.email,u=e.phone;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Z.a,{variant:"info"},"This form is currently locked."),l.a.createElement(Q.a,null,l.a.createElement(Q.a.Row,null,l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"First Name"),l.a.createElement(Q.a.Control,{type:"text",value:t,name:"first_name",onChange:this.handleChange,disabled:!0})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Last Name"),l.a.createElement(Q.a.Control,{type:"text",value:a,name:"last_name",onChange:this.handleChange,disabled:!0}))),l.a.createElement("hr",{className:"separator d-block my-4"}),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Address Line One"),l.a.createElement(Q.a.Control,{type:"text",value:n,name:"address_line_one",onChange:this.handleChange,disabled:!0})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Address Line Two"),l.a.createElement(Q.a.Control,{type:"text",value:r,name:"address_line_two",onChange:this.handleChange,disabled:!0}))),l.a.createElement(Q.a.Row,null,l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"City"),l.a.createElement(Q.a.Control,{type:"text",value:c,name:"address_city",onChange:this.handleChange,disabled:!0})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"County"),l.a.createElement(Q.a.Control,{type:"text",value:s,name:"address_county",onChange:this.handleChange,disabled:!0})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Postcode"),l.a.createElement(Q.a.Control,{type:"text",value:o,name:"address_postcode",onChange:this.handleChange,disabled:!0}))),l.a.createElement("hr",{className:"separator d-block my-4"}),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Email"),l.a.createElement(Q.a.Control,{type:"text",value:m,name:"email",onChange:this.handleChange,disabled:!0})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Phone"),l.a.createElement(Q.a.Control,{type:"text",value:u,name:"phone",onChange:this.handleChange,disabled:!0}))),l.a.createElement(K.a,{variant:"primary",type:"submit"},"Update user"),l.a.createElement(ee,{customerId:this.props.customerId,className:"float-right"})))}}]),a}(l.a.Component),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(F.a)({},n.state,Object(H.a)({},e.target.name,e.target.value)))},n.state={auth:!0,customer:null,first_name:null,last_name:null,order:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g()||this.setState({auth:!1});var t=this.props.match.params;E.a.get("http://localhost:8080/api/v1/customers/".concat(t.id),{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({customer:t.data.customer,order:t.data.order})}))}},{key:"render",value:function(){var e=this.state,t=e.auth,a=e.customer,n=e.order;return t?a?l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white pt-5 pb-4"},l.a.createElement(i.b,{to:"/dashboard/customers",className:"d-block mb-2"},l.a.createElement(S.a,{icon:M.h,className:"mr-2"}),"Return to customers"),l.a.createElement("h1",null,a.first_name+" "+a.last_name)),l.a.createElement(G.a.Container,{defaultActiveKey:"summary"},l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4"},l.a.createElement(_.a,{variant:"tabs"},l.a.createElement(_.a.Item,null,l.a.createElement(_.a.Link,{eventKey:"summary"},"Summary")),l.a.createElement(_.a.Item,null,l.a.createElement(_.a.Link,{eventKey:"information"},"Edit Information")))),l.a.createElement(y.a,{fluid:!0},l.a.createElement(G.a.Content,null,l.a.createElement(G.a.Pane,{eventKey:"summary"},l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement(A,{title:"Orders",className:"mb-4"},l.a.createElement(O.a,{borderless:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Order ID"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Date Created"))),l.a.createElement("tbody",null,n.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.b,{to:"/dashboard/orders/".concat(e.order_id)},e.order_id)),l.a.createElement("td",null,l.a.createElement(X.a,{variant:e.status},e.status)),l.a.createElement("td",null,k()(e.date_created).format("MMMM Do YYYY")," ",l.a.createElement("span",{className:"small text-muted"},"(",k()(e.date_created).fromNow(),")")))})))))),l.a.createElement(N.a,null,l.a.createElement(A,{title:"Customer Details",className:"mb-4"},"This is the area to display customer details"),l.a.createElement(A,{title:"Customer Notes"},"This is the area to enter customer notes")))),l.a.createElement(G.a.Pane,{eventKey:"information"},l.a.createElement(A,{title:"Edit ".concat(a.first_name," ").concat(a.last_name,"'s details")},l.a.createElement(te,{customerId:a._id}))))))):l.a.createElement("p",null,"loading.."):l.a.createElement(d.a,{to:"/login"})}}]),a}(l.a.Component),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4 py-5"},l.a.createElement("h1",null,"Deliveries")),l.a.createElement(y.a,{fluid:!0}))}}]),a}(l.a.Component),le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={customer:null,order:null,user:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;E.a.get("http://localhost:8080/api/v1/public/".concat(t.id)).then((function(t){return e.setState({customer:t.data.customer,order:t.data.order,user:t.data.user})}))}},{key:"render",value:function(){var e=this.state,t=e.customer,a=e.order,n=e.user;return t?a?"quote"===a.status?l.a.createElement("p",null,"This order is not ready to be invoiced yet"):l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{fluid:!0,className:"bg-dark mb-5"},l.a.createElement(y.a,{className:"py-5"},l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement(X.a,{variant:a.status,className:"badge-large mb-4"},a.status),l.a.createElement("h1",{className:"text-white"},a.order_id),l.a.createElement("h6",{className:"mb-0 text-muted"},"Invoice generated by ",n.first_name," ",n.last_name)),l.a.createElement(N.a,{className:"border-left pl-5"},l.a.createElement("h5",{class:"mb-0 text-muted"},"Deckorum Composite Decking,"),l.a.createElement("p",{className:"mb-0 text-muted"},"Technology Centre,",l.a.createElement("br",null),"Church,",l.a.createElement("br",null),"BB5 4HU"))))),l.a.createElement(y.a,null,l.a.createElement(A,{title:"Invoice Details"},l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement("h6",{className:"text-muted"},"Invoice for"),l.a.createElement("h3",null,t.first_name," ",t.last_name),l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement("p",{className:"mb-0 text-muted"},t.address.line_one,",",l.a.createElement("br",null),t.address.line_two,",",l.a.createElement("br",null),t.address.city,",",l.a.createElement("br",null),t.address.county,",",l.a.createElement("br",null),t.address.postcode)))),l.a.createElement(N.a,{className:"border-left pl-5"},l.a.createElement("h6",{className:"text-muted"},"Total To Pay"),l.a.createElement("h3",{className:"mb-5"},"\xa31,000")))),l.a.createElement(A,{title:"Items on Invoice"},l.a.createElement("p",null,"Item #1")),l.a.createElement(A,{title:"Payment"},l.a.createElement("p",{className:"small text-muted"},"Stripe Payment Form to be put here")))):l.a.createElement("p",null,"No order found with this ID.."):l.a.createElement("p",null,"No customer found with this order..")}}]),a}(l.a.Component),re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(F.a)({},n.state,Object(H.a)({},e.target.name,e.target.value)))},n.handleSubmit=function(e){e.preventDefault(),console.log(n.state),p.post("http://localhost:8080/api/v1/orders/new",n.state,{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(e){return console.log(e)}))},n.state={customers:[],customer_id:null,products:[],staff_id:null,status:"quote"},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(p.get("customers",{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({customers:t.data.customers})})),v()){var t=v();this.setState({staff_id:t._id})}}},{key:"render",value:function(){var e=this.state.customers;return l.a.createElement(Q.a,{onSubmit:this.handleSubmit},l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Customer"),l.a.createElement(Q.a.Control,{as:"select",name:"customer_id",onChange:this.handleChange},l.a.createElement("option",{disabled:!0,selected:!0},"Select a Customer"),e.map((function(e){return l.a.createElement("option",{value:e._id},e.first_name+" "+e.last_name)})))),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Status"),l.a.createElement(Q.a.Control,{as:"select",name:"status",onChange:this.handleChange},l.a.createElement("option",{value:"quote",selected:!0},"Quote"),l.a.createElement("option",{value:"invoice"},"Invoice")))),l.a.createElement(K.a,{type:"submit",variant:"success",className:"d-block ml-auto"},"Add Order"))}}]),a}(l.a.Component),ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){return e.setState({showModal:!1})},e.handleShow=function(){return e.setState({showModal:!0})},e.state={showModal:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.showModal;return l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{variant:"success",className:this.props.className,onClick:this.handleShow},"Add Order",l.a.createElement(S.a,{icon:M.i,className:"ml-2 small"})),l.a.createElement(B.a,{centered:!0,size:"lg",animation:!1,show:e,onHide:this.handleClose},l.a.createElement(B.a.Header,{closeButton:!0},"Add Order"),l.a.createElement(B.a.Body,null,l.a.createElement(re,null))))}}]),a}(l.a.Component),se=(a(309),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={orders:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.get("orders",{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({orders:t.data.orders})}))}},{key:"render",value:function(){var e=this.state.orders;return 0===e.length?l.a.createElement("p",{className:"text-muted"},"No orders were found.."):l.a.createElement(O.a,{borderless:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"Order ID"),l.a.createElement("th",null,"Customer Name"),l.a.createElement("th",null,"Value"),l.a.createElement("th",null,"Product Count"),l.a.createElement("th",null,"Stage"),l.a.createElement("th",null,"Order Date"),l.a.createElement("th",null))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement(oe,{orderId:e.order_id,customer:e.customer,productCount:e.products.length,status:e.status,orderDate:e.date_created})}))))}}]),a}(l.a.Component)),oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("td",{className:"text-center",width:"50px"},l.a.createElement(S.a,{icon:M.f,className:"text-center text-muted"})),l.a.createElement("td",null,l.a.createElement(i.b,{to:"/dashboard/orders/".concat(this.props.orderId)},this.props.orderId)),l.a.createElement("td",null,l.a.createElement(i.b,{to:"/dashboard/customers/".concat(this.props.customer._id)},this.props.customer.first_name," ",this.props.customer.last_name)),l.a.createElement("td",null,"\xa3",this.props.value),l.a.createElement("td",null,this.props.productCount),l.a.createElement("td",null,l.a.createElement(X.a,{variant:this.props.status},this.props.status)),l.a.createElement("td",null,k()(this.props.orderDate).format("MMMM Do YYYY")," ",l.a.createElement("span",{className:"small text-muted"},"(",k()(this.props.orderDate).fromNow(),")")),l.a.createElement("td",{className:"text-right"},l.a.createElement(i.b,{to:"/dashboard/orders/".concat(this.props.orderId),className:"btn btn-primary btn-sm"},"View"),l.a.createElement(K.a,{variant:"secondary",className:"btn-sm ml-3"},l.a.createElement(S.a,{icon:M.d}))))}}]),a}(l.a.Component),me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4 py-5"},l.a.createElement("h1",null,"Orders")),l.a.createElement(y.a,{fluid:!0},l.a.createElement(ce,{className:"d-block mb-4"}),l.a.createElement(se,null),l.a.createElement(ce,{className:"d-block mt-4 ml-auto"})))}}]),a}(l.a.Component),ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={auth:!0,customer:null,order:null,user:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g()||this.setState({auth:!1});var t=this.props.match.params;E.a.get("http://localhost:8080/api/v1/orders/".concat(t.id),{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({customer:t.data.customer,order:t.data.order,user:t.data.user})}))}},{key:"render",value:function(){var e=this.state,t=e.auth,a=e.customer,n=e.order,r=e.user;return t?n?l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4 py-5"},l.a.createElement(i.b,{to:"/dashboard/orders",className:"d-block mb-2"},l.a.createElement(S.a,{icon:M.h,className:"mr-2"}),"Return to orders"),l.a.createElement(X.a,{variant:n.status,className:"badge-large mb-2"},n.status),l.a.createElement("h1",null,n.order_id),l.a.createElement("p",{className:"mb-0"},"Order created by ",r.first_name," ",r.last_name)),l.a.createElement(y.a,{fluid:!0},l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement(A,{title:"Items"},"Content here"),l.a.createElement(A,{title:"Tools"},l.a.createElement(i.b,{to:"/".concat(n.status,"/").concat(n._id)},"View Public Link"))),l.a.createElement(N.a,null,l.a.createElement(A,{title:"Total"}),l.a.createElement(A,{title:"Customer Information"},l.a.createElement("p",{className:"font-weight-bold mb-0"},a.first_name," ",a.last_name),l.a.createElement("p",{className:"mb-0"},a.address.line_one,",",l.a.createElement("br",null),a.address.line_two,",",l.a.createElement("br",null),a.address.city,",",l.a.createElement("br",null),a.address.county,",",l.a.createElement("br",null),a.address.postcode)),l.a.createElement(A,{title:"Recent Activity"}))))):l.a.createElement("p",null,"loading.."):l.a.createElement(d.a,{to:"/login"})}}]),a}(l.a.Component),ie=a(325),de=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(F.a)({},n.state,Object(H.a)({},e.target.name,e.target.value)))},n.handleSubmit=function(e){e.preventDefault(),console.log(n.state),p.post("products/new",n.state,{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(e){return console.log(e)}))},n.state={name:null,sku:null,price:null,sale_price:null,height:null,width:null,depth:null,description:null},n}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(Q.a,{onSubmit:this.handleSubmit},l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Name"),l.a.createElement(Q.a.Control,{type:"text",name:"name",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"SKU"),l.a.createElement(Q.a.Control,{type:"text",name:"sku",onChange:this.handleChange}))),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Price"),l.a.createElement(ie.a,{className:"mb-3"},l.a.createElement(ie.a.Prepend,null,l.a.createElement(ie.a.Text,null,"\xa3")),l.a.createElement(Q.a.Control,{type:"number",name:"price",onChange:this.handleChange}))),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Sale Price"),l.a.createElement(ie.a,{className:"mb-3"},l.a.createElement(ie.a.Prepend,null,l.a.createElement(ie.a.Text,null,"\xa3")),l.a.createElement(Q.a.Control,{type:"number",name:"sale_price",onChange:this.handleChange})))),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Height"),l.a.createElement(Q.a.Control,{type:"number",name:"height",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Width"),l.a.createElement(Q.a.Control,{type:"number",name:"width",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Depth"),l.a.createElement(Q.a.Control,{type:"number",name:"depth",onChange:this.handleChange}))),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Description"),l.a.createElement(Q.a.Control,{as:"textarea",name:"description",rows:"4",onChange:this.handleChange}))),l.a.createElement(K.a,{type:"submit",variant:"success",className:"d-block ml-auto"},"Add Product"))}}]),a}(l.a.Component),he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){return e.setState({showModal:!1})},e.handleShow=function(){return e.setState({showModal:!0})},e.state={showModal:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.showModal;return l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{variant:"success",className:this.props.className,onClick:this.handleShow},"Add Product",l.a.createElement(S.a,{icon:M.i,className:"ml-2 small"})),l.a.createElement(B.a,{centered:!0,size:"lg",animation:!1,show:e,onHide:this.handleClose},l.a.createElement(B.a.Header,{closeButton:!0},"Add Product"),l.a.createElement(B.a.Body,null,l.a.createElement(de,null))))}}]),a}(l.a.Component),Ee=(a(310),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={products:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.get("products",{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({products:t.data.products})}))}},{key:"render",value:function(){var e=this.state.products;return 0===e.length?l.a.createElement("p",{className:"text-muted"},"No products found.."):l.a.createElement(O.a,{borderless:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Sale Price"),l.a.createElement("th",null,"SKU"),l.a.createElement("th",null,"Date Added"),l.a.createElement("th",null))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement(pe,{productId:e._id,name:e.name,price:e.price,salePrice:e.sale_price,sku:e.sku,dateAdded:e.date_created,key:e._id})}))))}}]),a}(l.a.Component)),pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("td",{className:"text-center",width:"50px"},l.a.createElement(S.a,{icon:M.b,className:"text-center text-muted"})),l.a.createElement("td",null,l.a.createElement(i.b,{to:"/dashboard/products/".concat(this.props.productId)},this.props.name)),l.a.createElement("td",null,"\xa3",this.props.price),l.a.createElement("td",null,"\xa3",this.props.salePrice),l.a.createElement("td",null,this.props.sku),l.a.createElement("td",null,k()(this.props.dateAdded).format("MMMM Do YYYY")," ",l.a.createElement("span",{className:"small text-muted"},"(",k()(this.props.dateAdded).fromNow(),")")),l.a.createElement("td",{className:"text-right"},l.a.createElement(i.b,{to:"/dashboard/products/".concat(this.props.productId),className:"btn btn-primary btn-sm"},"View"),l.a.createElement(K.a,{variant:"secondary",className:"btn-sm ml-3"},l.a.createElement(S.a,{icon:M.d}))))}}]),a}(l.a.Component),be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4 py-5"},l.a.createElement("h1",null,"Products")),l.a.createElement(y.a,{fluid:!0},l.a.createElement(he,{className:"d-block mb-4"}),l.a.createElement(Ee,{className:"float-right"}),l.a.createElement(he,{className:"d-block mt-4 ml-auto"})))}}]),a}(l.a.Component),fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){return e.setState({showModal:!1})},e.handleDelete=function(t){E.a.delete("http://localhost:8080/api/v1/products/delete",{data:{_id:t},headers:{"x-access-token":localStorage.getItem("x-access-token")}}),e.setState({deleted:!0})},e.handleShow=function(){return e.setState({showModal:!0})},e.state={deleted:!1,showModal:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.deleted,n=t.showModal;return a?l.a.createElement(d.a,{to:"/dashboard/products"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{variant:"danger",className:this.props.className,onClick:this.handleShow},"Delete Product",l.a.createElement(S.a,{icon:M.k,className:"ml-2 small"})),l.a.createElement(B.a,{centered:!0,animation:!1,show:n,onHide:this.handleClose},l.a.createElement(B.a.Header,{closeButton:!0},"Are you sure you want to delete this product?"),l.a.createElement(B.a.Body,null,l.a.createElement(K.a,{variant:"danger",onClick:function(){return e.handleDelete(e.props.productId)}},"Delete Product"))))}}]),a}(l.a.Component),ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(F.a)({},n.state,Object(H.a)({},e.target.name,e.target.value)))},n.state={product:null,name:null,sku:null,description:null,price:null,sale_price:null,dimensions_height:null,dimensions_width:null,dimensions_depth:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("products/".concat(this.props.productId),{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){var a=t.data.product;e.setState({product:a,name:a.name,sku:a.sku,description:a.description,price:a.price,sale_price:a.sale_price,dimensions_height:a.dimensions.height,dimensions_width:a.dimensions.width,dimensions_depth:a.dimensions.depth})}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.sku,n=e.description,r=e.price,c=e.sale_price,s=e.dimensions_height,o=e.dimensions_width,m=e.dimensions_depth;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Z.a,{variant:"info"},"This form is currently locked."),l.a.createElement(Q.a,null,l.a.createElement(Q.a.Row,null,l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Name"),l.a.createElement(Q.a.Control,{type:"text",value:t,name:"name",onChange:this.handleChange,disabled:!0})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"SKU"),l.a.createElement(Q.a.Control,{type:"text",value:a,name:"sku",onChange:this.handleChange,disabled:!0}))),l.a.createElement("hr",{className:"separator d-block my-4"}),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Description"),l.a.createElement(Q.a.Control,{as:"textarea",rows:"3",value:n,name:"description",onChange:this.handleChange,disabled:!0}))),l.a.createElement("hr",{className:"separator d-block my-4"}),l.a.createElement(Q.a.Row,null,l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Height"),l.a.createElement(Q.a.Control,{type:"text",value:s,name:"dimensions_height",onChange:this.handleChange,disabled:!0})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Width"),l.a.createElement(Q.a.Control,{type:"text",value:o,name:"dimensions_width",onChange:this.handleChange,disabled:!0})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Depth"),l.a.createElement(Q.a.Control,{type:"text",value:m,name:"dimensions_depth",onChange:this.handleChange,disabled:!0}))),l.a.createElement("hr",{className:"separator d-block my-4"}),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Price"),l.a.createElement(Q.a.Control,{type:"text",value:r,name:"price",onChange:this.handleChange,disabled:!0})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Sale Price"),l.a.createElement(Q.a.Control,{type:"text",value:c,name:"sale_price",onChange:this.handleChange,disabled:!0}))),l.a.createElement(K.a,{variant:"primary",type:"submit"},"Update product"),l.a.createElement(fe,{productId:this.props.productId,className:"float-right"})))}}]),a}(l.a.Component),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={auth:!0,product:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g()||this.setState({auth:!1});var t=this.props.match.params;E.a.get("http://localhost:8080/api/v1/products/".concat(t.id),{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({product:t.data.product})}))}},{key:"render",value:function(){var e=this.state,t=e.auth,a=e.product;return t?a?l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white py-5"},l.a.createElement(i.b,{to:"/dashboard/products",className:"d-block mb-2"},l.a.createElement(S.a,{icon:M.h,className:"mr-2"}),"Return to products"),l.a.createElement("h1",null,a.name)),l.a.createElement(G.a.Container,{defaultActiveKey:"summary"},l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4"},l.a.createElement(_.a,{variant:"tabs"},l.a.createElement(_.a.Item,null,l.a.createElement(_.a.Link,{eventKey:"summary"},"Summary")),l.a.createElement(_.a.Item,null,l.a.createElement(_.a.Link,{eventKey:"information"},"Edit Information")))),l.a.createElement(y.a,{fluid:!0},l.a.createElement(G.a.Content,null,l.a.createElement(G.a.Pane,{eventKey:"summary"},l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement(A,{title:"Orders",className:"mb-4"},"Display here: quotes, invoices, deliveries and complete orders")),l.a.createElement(N.a,null,l.a.createElement(A,{title:"Product Details",className:"mb-4"},"This is the area to display customer details"),l.a.createElement(A,{title:"Product Notes"},"This is the area to enter customer notes")))),l.a.createElement(G.a.Pane,{eventKey:"information"},l.a.createElement(A,{title:"Edit ".concat(a.name,"'s details")},l.a.createElement(ve,{productId:a._id}))))))):l.a.createElement("p",null,"loading.."):l.a.createElement(d.a,{to:"/login"})}}]),a}(l.a.Component),ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4 py-5"},l.a.createElement("h1",null,"Settings")),l.a.createElement(y.a,{fluid:!0}))}}]),a}(l.a.Component),Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4 py-5"},l.a.createElement("h1",null,"Statistics")),l.a.createElement(y.a,{fluid:!0}))}}]),a}(l.a.Component),Ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(F.a)({},n.state,Object(H.a)({},e.target.name,e.target.value)))},n.handleSubmit=function(e){e.preventDefault(),console.log(n.state),p.post("users/new",n.state,{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(e){return console.log(e)}))},n.state={email:null,password:null,first_name:null,last_name:null,role:null},n}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(Q.a,{onSubmit:this.handleSubmit},l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Email"),l.a.createElement(Q.a.Control,{type:"text",name:"email",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Password"),l.a.createElement(Q.a.Control,{type:"text",name:"password",onChange:this.handleChange}))),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"First Name"),l.a.createElement(Q.a.Control,{type:"text",name:"first_name",onChange:this.handleChange})),l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Last Name"),l.a.createElement(Q.a.Control,{type:"text",name:"last_name",onChange:this.handleChange}))),l.a.createElement(Q.a.Row,{className:"mb-4"},l.a.createElement(N.a,null,l.a.createElement(Q.a.Label,null,"Role"),l.a.createElement(Q.a.Control,{as:"select",name:"role",custom:!0,onChange:this.handleChange},l.a.createElement("option",{value:"sales"},"Sales Team"),l.a.createElement("option",{value:"delivery"},"Delivery Team"),l.a.createElement("option",{value:"manager"},"Manager")))),l.a.createElement(K.a,{type:"submit",variant:"success",className:"d-block ml-auto"},"Add User"))}}]),a}(l.a.Component),Oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){return e.setState({showModal:!1})},e.handleShow=function(){return e.setState({showModal:!0})},e.state={showModal:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.showModal;return l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{variant:"success",className:this.props.className,onClick:this.handleShow},"Add User",l.a.createElement(S.a,{icon:M.i,className:"ml-2 small"})),l.a.createElement(B.a,{centered:!0,size:"lg",animation:!1,show:e,onHide:this.handleClose},l.a.createElement(B.a.Header,{closeButton:!0},"Add User"),l.a.createElement(B.a.Body,null,l.a.createElement(Ne,null))))}}]),a}(l.a.Component),je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={users:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.get("users",{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({users:t.data.users})}))}},{key:"render",value:function(){var e=this.state.users;return l.a.createElement(O.a,{borderless:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Role"),l.a.createElement("th",null,"Date Joined"),l.a.createElement("th",null))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement(ke,{userId:e._id,firstName:e.first_name,lastName:e.last_name,email:e.email,role:e.role,dateJoined:e.date_created})}))))}}]),a}(l.a.Component),ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("td",{className:"text-center",width:"50px"},l.a.createElement(S.a,{icon:M.g,className:"text-center text-muted"})),l.a.createElement("td",null,l.a.createElement(i.b,{to:"/dashboard/users/".concat(this.props.userId)},this.props.firstName," ",this.props.lastName)),l.a.createElement("td",null,this.props.email),l.a.createElement("td",null,this.props.role),l.a.createElement("td",null,k()(this.props.dateJoined).format("MMMM Do YYYY")," ",l.a.createElement("span",{className:"small text-muted"},"(",k()(this.props.dateJoined).fromNow(),")")),l.a.createElement("td",{className:"text-right"},l.a.createElement(i.b,{to:"/dashboard",className:"btn btn-primary btn-sm"},"View"),l.a.createElement(K.a,{variant:"secondary",className:"btn-sm ml-3"},l.a.createElement(S.a,{icon:M.d}))))}}]),a}(l.a.Component),xe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4 py-5"},l.a.createElement("h1",null,"Users")),l.a.createElement(y.a,{fluid:!0},l.a.createElement(Oe,{className:"d-block mb-4"}),l.a.createElement(je,null),l.a.createElement(Oe,{className:"d-block mt-4 ml-auto"})))}}]),a}(l.a.Component),_e=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(F.a)({},n.state,Object(H.a)({},e.target.name,e.target.value)))},n.state={auth:!0,customer:null,first_name:null,last_name:null,order:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g()||this.setState({auth:!1});var t=this.props.match.params;E.a.get("http://localhost:8080/api/v1/users/".concat(t.id),{headers:{"x-access-token":localStorage.getItem("x-access-token")}}).then((function(t){return e.setState({order:t.data.order,user:t.data.user})}))}},{key:"render",value:function(){var e=this.state,t=e.auth,a=e.user,n=e.order;return t?a?l.a.createElement(P,null,l.a.createElement(y.a,{fluid:!0,className:"bg-white pt-5 pb-4"},l.a.createElement(i.b,{to:"/dashboard/users",className:"d-block mb-2"},l.a.createElement(S.a,{icon:M.h,className:"mr-2"}),"Return to users"),l.a.createElement("h1",null,a.first_name+" "+a.last_name)),l.a.createElement(G.a.Container,{defaultActiveKey:"summary"},l.a.createElement(y.a,{fluid:!0,className:"bg-white mb-4"},l.a.createElement(_.a,{variant:"tabs"},l.a.createElement(_.a.Item,null,l.a.createElement(_.a.Link,{eventKey:"summary"},"Summary")),l.a.createElement(_.a.Item,null,l.a.createElement(_.a.Link,{eventKey:"information"},"Edit Information")))),l.a.createElement(y.a,{fluid:!0},l.a.createElement(G.a.Content,null,l.a.createElement(G.a.Pane,{eventKey:"summary"},l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement(A,{title:"Orders",className:"mb-4"},l.a.createElement(O.a,{borderless:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Order ID"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Date Created"))),l.a.createElement("tbody",null,n.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.b,{to:"/dashboard/orders/".concat(e.order_id)},e.order_id)),l.a.createElement("td",null,l.a.createElement(X.a,{variant:e.status},e.status)),l.a.createElement("td",null,k()(e.date_created).format("Do MMMM YYYY")," ",l.a.createElement("span",{className:"small text-muted"},"(",k()(e.date_created).fromNow(),")")))})))))),l.a.createElement(N.a,null,l.a.createElement(A,{title:"User Details",className:"mb-4"},l.a.createElement("p",{className:""},l.a.createElement("b",null,"Role:")," ",a.role),l.a.createElement("p",{className:""},l.a.createElement("b",null,"Date Joined:")," ",k()(a.date_created).format("Do MMMM YYYY")," ",l.a.createElement("span",{className:"small text-muted"},"(",k()(a.date_created).fromNow(),")"))),l.a.createElement(A,{title:"User Notes"},"This is the area to enter user notes (only manager's can see this)")))),l.a.createElement(G.a.Pane,{eventKey:"information"},l.a.createElement(A,{title:"Edit ".concat(a.first_name," ").concat(a.last_name,"'s details")})))))):l.a.createElement("p",null,"loading.."):l.a.createElement(d.a,{to:"/login"})}}]),a}(l.a.Component),we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(d.a,{to:"/dashboard"})}}]),a}(l.a.Component),Se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(F.a)({},e.state,Object(H.a)({},t.target.name,t.target.value)))},e.handleSubmit=function(t){var a;t.preventDefault(),(a=e.state,p.post("auth",{email:a.email,password:a.password}).then((function(e){return localStorage.setItem("x-access-token",e.data.token),localStorage.setItem("x-access-token-expiration",Date.now()+72e5),e.data})).catch((function(e){return Promise.reject("Auth failed")}))).then((function(e){return window.location="/dashboard"})).catch((function(e){return alert(e)}))},e.state={email:null,password:null},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(Q.a,{onSubmit:this.handleSubmit},l.a.createElement(Q.a.Label,null,"Email"),l.a.createElement(Q.a.Control,{type:"text",name:"email",className:"mb-4",onChange:this.handleChange}),l.a.createElement(Q.a.Label,null,"Password"),l.a.createElement(Q.a.Control,{type:"password",name:"password",className:"mb-4",onChange:this.handleChange}),l.a.createElement(K.a,{type:"submit",variant:"primary"},"Login"))}}]),a}(l.a.Component),Me=a(175),De=a.n(Me),Ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(y.a,{fluid:!0,style:Le},l.a.createElement(C.a,{style:Le},l.a.createElement(N.a,{className:"px-5",style:Le},l.a.createElement(y.a,{className:"d-flex flex-column justify-content-center px-5",style:Le},l.a.createElement("div",{className:"px-5"},l.a.createElement("h2",null,"Login to Deckodash"),l.a.createElement("p",{className:"text-muted"},"Please enter your account details below to login."),l.a.createElement(Se,null),l.a.createElement("p",{className:"mb-0 mt-4 small text-muted"},"Can't login? Please contact a Manager.")))),l.a.createElement(N.a,{className:"bg-dark",style:Pe},l.a.createElement(y.a,{className:"d-flex align-items-center flex-column justify-content-center px-5",style:Le},l.a.createElement("h1",{className:"text-white"},"Deckodash")))))}}]),a}(l.a.Component),Le={height:"100vh"},Pe={backgroundImage:"linear-gradient(to bottom, rgba(36, 47, 105, 1), rgba(36, 47, 105, .75), rgba(36, 47, 105, .25)), url(".concat(De.a,")"),height:"100vh"},Ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={customer:null,order:null,user:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;E.a.get("http://localhost:8080/api/v1/public/".concat(t.id)).then((function(t){return e.setState({customer:t.data.customer,order:t.data.order,user:t.data.user})}))}},{key:"render",value:function(){var e=this.state,t=e.customer,a=e.order,n=e.user;return t?a?l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{fluid:!0,className:"bg-dark mb-5"},l.a.createElement(y.a,{className:"py-5"},l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement(X.a,{variant:a.status,className:"badge-large mb-4"},a.status),l.a.createElement("h1",{className:"text-white"},a.order_id),l.a.createElement("h6",{className:"mb-0 text-muted"},"Quote generated by ",n.first_name," ",n.last_name)),l.a.createElement(N.a,{className:"border-left pl-5"},l.a.createElement("h5",{class:"mb-0 text-muted"},"Deckorum Composite Decking,"),l.a.createElement("p",{className:"mb-0 text-muted"},"Technology Centre,",l.a.createElement("br",null),"Church,",l.a.createElement("br",null),"BB5 4HU"))))),l.a.createElement(y.a,null,l.a.createElement(A,{title:"Quote Details"},l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement("h6",{className:"text-muted"},"Quote for"),l.a.createElement("h3",null,t.first_name," ",t.last_name),l.a.createElement(C.a,null,l.a.createElement(N.a,null,l.a.createElement("p",{className:"mb-0 text-muted"},t.address.line_one,",",l.a.createElement("br",null),t.address.line_two,",",l.a.createElement("br",null),t.address.city,",",l.a.createElement("br",null),t.address.county,",",l.a.createElement("br",null),t.address.postcode)))),l.a.createElement(N.a,{className:"border-left pl-5"},l.a.createElement("h6",{className:"text-muted"},"Total Quote"),l.a.createElement("h3",{className:"mb-5"},"\xa31,000"),l.a.createElement("h6",{className:"text-muted"},"Customer Response"),l.a.createElement(K.a,{variant:"success",className:"mr-4"},"Accept Quote"),l.a.createElement(K.a,{variant:"danger"},"Decline Quote")))),l.a.createElement(A,{title:"Items on Quote"},l.a.createElement("p",null,"Item #1")))):l.a.createElement("p",null,"No order found with this ID.."):l.a.createElement("p",null,"No customer found with this order..")}}]),a}(l.a.Component),Re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={user:{email:null,first_name:null,last_name:null,role:null}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){if(v()){var e=v(),t=this.state.user;t.email=e.email,t.first_name=e.first_name,t.last_name=e.last_name,t.role=e.role,this.setState({user:t})}}},{key:"render",value:function(){var e=this;return l.a.createElement(i.a,null,l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/",component:we}),l.a.createElement(d.b,{exact:!0,path:"/dashboard",component:function(){return l.a.createElement(Y,{user:e.state.user.first_name})}}),l.a.createElement(d.b,{exact:!0,path:"/login",component:Ie}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/customers",component:$}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/customers/:id",component:ae}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/deliveries",component:ne}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/deliveries/:id",component:ne}),l.a.createElement(d.b,{exact:!0,path:"/invoice/:id",component:le}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/orders",component:me}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/orders/:id",component:ue}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/products",component:be}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/products/:id",component:ge}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/settings",component:ye}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/statistics",component:Ce}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/users",component:xe}),l.a.createElement(d.b,{exact:!0,path:"/dashboard/users/:id",component:_e}),l.a.createElement(d.b,{exact:!0,path:"/quote/:id",component:Ae})))}}]),a}(l.a.Component),Ye=a(176),Te=a.n(Ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(313);Te.a.config(),c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[180,1,2]]]);
//# sourceMappingURL=main.cbae8b0c.chunk.js.map